# Gondor decisions: {
#	Starting Decisions (Unseen)
#	Substate Annexation
#	Province Flavor
#	Military Buildup
#	Expansions to the West
#	Province Flavor 
#	Reclaiming Cores Removed Via Flavor }

# Starting Decisions
political_decisions = {
	gondor_start_decision = {
		potential = {
			tag = GON
			always = no
		}
		
		allow = { }
		
		effect = {
			# Starting Leader
			add_country_modifier = {
				name = ecthelion_ii_modifier
				duration = -1
			}
			
			# Setting flags for flavor
			add_country_modifier = {
				name = low_military_recruitment
				duration = -1
			}
			set_country_flag = low_military_recruitment
			
			# Research related
			set_country_flag = infantry_realm
			
			# Literacy boosts
			any_pop = {
				limit = { has_pop_culture = dunedain }
				literacy = 0.1
			}
			any_pop = {
				limit = { has_pop_culture = druedain }
				literacy = -0.1
			}
			
			# Substate Effects
			any_country = {
				limit = { substate_of = GON }
				# Setting flags for flavor
				set_country_flag = low_military_recruitment
				add_country_modifier = {
					name = low_military_recruitment
					duration = -1
				}
				
				# Research related
				set_country_flag = infantry_realm
				
				# Literacy boosts
				any_pop = {
					limit = { has_pop_culture = dunedain }
					literacy = 0.1
				}
			}
		}
	}
	
	dol_amroth_start_decision = {
		potential = {
			tag = AMR
			always = no
		}
		
		allow = { }
		
		effect = {
			# Starting Leader
			add_country_modifier = {
				name = angelimir_modifier
				duration = -1
			}
			
			# Research related
			set_country_flag = infantry_realm
			
			# Literacy boosts
			any_pop = {
				limit = { has_pop_culture = silvan }
				literacy = 0.5
			}
			any_pop = {
				limit = { has_pop_culture = dunedain }
				literacy = 0.1
			}
		}
	}
}

# Substate Annexation
political_decisions = {
	annex_lossarnach = {
		picture = "gondor_noimage"
		potential = {
			tag = GON
			LOS = {
				exists = yes
				substate_of = GON
			}
		}
		allow = {
			OR = {
				crown_land_ownership = ten_land_ownership
				crown_land_ownership = thirty_land_ownership
				crown_land_ownership = half_land_ownership
				crown_land_ownership = seventy_land_ownership
				crown_land_ownership = all_land_ownership
			}
			OR = {
				city_jurisdiction = territorial_cities
				city_jurisdiction = royal_cities
			}
			war = no
		}
		effect = {
			inherit = LOS
			GON_23 = {
				aristocrats = { militancy = 2 }
				remove_core = LOS
				add_core = GON
			}
			GON_27 = {
				aristocrats = { militancy = 2 }
				secede_province = LEB
				add_core = LEB
				remove_core = LOS
			}
			prestige = 5
			define_general = {
				name = "§BForlong, §MLord of Lossarnach§!"
				background = lord_of_lossarnach
				personality = stalwart
			}
		}
	}
	
	annex_lebennin = {
		picture = "gondor_noimage"
		potential = {
			tag = GON
			LEB = {
				exists = yes
				substate_of = GON
			}
			owns = 23
		}
		allow = {
			OR = {
				crown_land_ownership = thirty_land_ownership
				crown_land_ownership = half_land_ownership
				crown_land_ownership = seventy_land_ownership
				crown_land_ownership = all_land_ownership
			}
			OR = {
				city_jurisdiction = territorial_cities
				city_jurisdiction = royal_cities
			}
			war = no
		}
		effect = {
			inherit = LEB
			LAM = {
				inherit = MRN
				any_owned = {
					limit = { is_core = MRN }
					add_core = LAM
					remove_core = MRN
					aristocrats = { militancy = 2 }
				}
			}
			any_owned = {
				limit = { is_core = LEB }
				remove_core = LEB
				add_core = GON
				aristocrats = { militancy = 2 }
			}
			prestige = 7
			define_admiral = {
				name = "§BOrodreth, §MLord of Lebennin§!"
				background = lord_of_lebennin
				personality = tactical
			}
		}
	}
	
	tolfalas_question = {
		picture = "gondor_noimage"
		potential = {
			tag = GON
			TOL = {
				exists = yes
				substate_of = GON
			}
			owns = 23
		}
		
		allow = {
			OR = {
				crown_land_ownership = thirty_land_ownership
				crown_land_ownership = half_land_ownership
				crown_land_ownership = seventy_land_ownership
				crown_land_ownership = all_land_ownership
			}
			OR = {
				city_jurisdiction = territorial_cities
				city_jurisdiction = royal_cities
			}
			war = no
		}
		
		effect = {
			country_event = 50000
		}
	}
	
	da_independence_war = {
		picture = "gondor_noimage"
		potential = {
			tag = AMR
			has_global_flag = no_tolfalas_for_da
			NOT = { has_global_flag = da_independence_war }
		}
		
		allow = {
		}
		
		effect = {
			prestige = 10
			set_global_flag = da_independence_war
			any_country = {
				limit = {
					war_with = AMR
				}
				end_war = AMR
			}
			GON = { country_event = 50001 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				GON = { war = no }
			}
			modifier = {
				factor = 0
				has_global_flag = railroading_enabled
			}
		}
	}
	
	annex_lamedon = {
		picture = "gondor_noimage"
		potential = {
			tag = GON
			LAM = {
				exists = yes
				substate_of = GON
			}
			owns = 44
		}
		
		allow = {
			OR = {
				crown_land_ownership = half_land_ownership
				crown_land_ownership = seventy_land_ownership
				crown_land_ownership = all_land_ownership
			}
			OR = {
				city_jurisdiction = territorial_cities
				city_jurisdiction = royal_cities
			}
			war = no
		}
		
		effect = {
			inherit = LAM
			any_owned = {
				limit = { is_core = LAM }
				remove_core = LAM
				add_core = GON
				aristocrats = { militancy = 2 }
			}
			prestige = 10
			define_general = {
				name = "§BAngbor, §MLord of Lamedon§!"
				background = lord_of_lamedon
				personality = fearless
			}
			define_general = {
				name = "§BDuinhir, §MLord of Blackroot Vale§!"
				background = lord_of_blackroot_vale
				personality = resolute
			}
			define_general = {
				# Dervorin's Father
				name = "§BBorhador, §MLord of Ringló Vale§!"
				background = lord_of_ringlo_vale
				personality = stalwart
			}
		}
	}
	
	annex_anfalas = {
		picture = "gondor_noimage"
		potential = {
			tag = GON
			ANF = {
				exists = yes
				substate_of = GON
			}
			owns = 89
		}
		
		allow = {
			OR = {
				crown_land_ownership = seventy_land_ownership
				crown_land_ownership = all_land_ownership
			}
			OR = {
				city_jurisdiction = territorial_cities
				city_jurisdiction = royal_cities
			}
			war = no
		}
		
		effect = {
			inherit = ANF
			any_owned = {
				limit = { is_core = ANF }
				remove_core = ANF
				add_core = GON
				aristocrats = { militancy = 2 }
			}
			prestige = 12
			define_general = {
				name = "§BHirluin, §MLord of Pinnath Gelin§!"
				background = lord_of_pinnath_gelin
				personality = persistent
			}
			define_general = {
				name = "§BGolasgil, §MLord of Anfalas§!"
				background = lord_of_anfalas
				personality = stout
			}
		}
	}
	
	annex_dol_amroth = {
		picture = "gondor_noimage"
		# Leader is Denethor II or Boromir or Faramir
		potential = {
			tag = GON
			AMR = {
				exists = yes
				vassal_of = GON
			}
			owns = 133
			NOT = { has_global_flag = da_independence_war }
		}
		
		allow = { 
			crown_land_ownership = all_land_ownership
			city_jurisdiction = royal_cities
			war = no
		}
		
		effect = {
			AMR = { country_event = 50004 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_global_flag = railroading_enabled
			}
		}
	}
	
	annex_andrast = {
		picture = "gondor_noimage"
		
		potential = {
			tag = GON
			ADR = {
				exists = yes
				vassal_of = GON
			}
			owns = 133
		}
		
		allow = {
			OR = {
				crown_land_ownership = seventy_land_ownership
				crown_land_ownership = all_land_ownership
			}
			OR = {
				city_jurisdiction = territorial_cities
				city_jurisdiction = royal_cities
			}
			war = no
		}
		
		effect = {
			inherit = ADR
			
			prestige = 8
			
			any_owned = {
				limit = { is_core = ADR }
				remove_core = ADR
				add_core = GON
				aristocrats = { militancy = 2 }
			}
		}
	}
}

# Province Flavor
political_decisions = {
	houses_of_healing = {
		potential = {
			owns = 16
			NOT = { 16 = { has_province_modifier = houses_of_healing } }
			is_culture_group = dunedain
		}
		
		allow = {
			population_1 = 1
		}
		
		effect = {
			16 = { 
				add_province_modifier = { 
					name = houses_of_healing
					duration = -1
				}
			}
		}
	}
}

# Military Build Up
political_decisions = {
	gondor_military_resurgence = {
		potential = {
			has_country_modifier = low_military_recruitment
			tag = GON
		}
		
		allow = {
			soldiers = 0.027
			military_score = 50
		}
		
		effect = {
			remove_country_modifier = low_military_recruitment
			clr_country_flag = low_military_recruitment
			
			any_country = {
				limit = {
					is_vassal = GON
				}
				remove_country_modifier = low_military_recruitment
				clr_country_flag = low_military_recruitment
			}
		}
	}
}

# Expansion to the West
political_decisions = {	
	andrast_territory = {
		picture = "andrast_map"
		potential = {
			tag = GON
			NOT = { has_country_modifier = low_military_recruitment }
			161 = { 
				owner = { civilized = no }
				is_core = ADR
				is_vassal = no
			}
			ADR = { exists = no }
			war = no
			NOT = { has_global_flag = GON_andrast_war }
			NOT = { has_global_flag = GON_lost_andrast_war } # to prevent this being taken multiple times should Gondor lose the first one
		}
		
		allow = {
			war = no
			161 = { owner = { NOT = { truce_with = GON } } }
		}
		
		effect = {
			badboy = 2
			
			random_country = {
				limit = { owns = 161 }
				add_casus_belli = {
					target = GON
					type = humiliate
					months = 12
				}
				country_event = 100004
			}
		}
	}
	
	andrast_war_end_GON = {
		picture = "andrast_map"
		potential = {
			tag = GON
			has_recently_lost_war = no
			has_global_flag = GON_andrast_war
			war = no
			165 = { 
				owner = { 
					truce_with = GON
					has_recently_lost_war = yes
					NOT = { is_vassal = yes }
				} 
			}
		}
		
		allow = {
			war = no
		}
		
		effect = {
			prestige = 5
			
			clr_global_flag = GON_andrast_war
			
			165 = {
				owner = {
					country_event = 100005
				}
			}
			
			random_owned = {
				limit = {
					owner = { is_greater_power = yes }
				}
				diplomatic_influence = {
					who = ADR
					value = 400
				}
			}
		}
	}
	
	andrast_war_end_PUK = {
		picture = "andrast_map"
		potential = {
			GON = { has_recently_lost_war = yes }
			truce_with = GON
			has_recently_lost_war = no
			war = no
			has_global_flag = GON_andrast_war
			owns = 165
		}
		
		allow = {
			war = no
		}
		
		effect = {
			prestige = 25
			
			clr_global_flag = GON_andrast_war
			set_global_flag = GON_lost_andrast_war
			
			GON = { country_event = 100006 }
		}
	}
	
	all_of_andrast = {
		picture = "andrast_map"
		potential = {
			tag = GON
			OR = {
				ADR = { vassal_of = GON }
				owns = 161
			}
			165 = { owner = { 
				civilized = no
				NOT = { tag = ADR } 
			}
			NOT = { has_global_flag = GON_andrast_war_2 }
			NOT = { has_global_flag = GON_lost_andrast_war } # to prevent this being taken multiple times should Gondor lose the first one
		}
		
		allow = {
			165 = { owner = { NOT = { truce_with = GON } } }
			war = no
		}
		
		effect = {
			badboy = 5
			
			random_country = {
				limit = { owns = 165 }
				add_casus_belli = {
					target = GON
					type = liberate_country
					months = 12
				}
				country_event = 100008
			}
		}
	}
	
	andrast_war_2_end_GON = {
		picture = "andrast_map"
		potential = {
			tag = GON
			ADR = { owns = 165 }
			OR = {
				ADR = {
					vassal_of = GON
				}
				owns = 161
			}
			has_global_flag = GON_andrast_war_2
			war = no
			has_recently_lost_war = no
		}
		
		allow = {
			war = no
		}
		
		effect = {
			prestige = 10
			
			ADR = { capital = 165 }
			
			random_country = {
				limit = {
					tag = ADR
					GON = { owns = 161 }
				}
				annex_to = GON
			}
			
			any_owned = {
				limit = {
					is_core = ADR
				}
				remove_core = ADR
				add_core = GON
			}
			
			clr_global_flag = GON_andrast_war_2
		}
	}
	
	andrast_war_2_end_PUK = {
		picture = "andrast_map"
		potential = {
			has_global_flag = GON_andrast_war_2
			war = no
			has_recently_lost_war = no
			GON = { has_recently_lost_war = yes }
			owns = 165
		}
		
		allow = {
			war = no
		}
		
		effect = {
			prestige = 50
			
			random_country = {
				limit = {
					tag = ADR
					vassal_of = GON
				}
				GON = { release_vassal = ADR }
				
				THIS = { inherit = ADR }
			}
			
			random_country = {
				limit = {
					tag = GON
					NOT = { exists = ADR }
					owns = 161
				}
				any_owned = {
					limit = {
						OR = {
							region = GON_161
							region = GON_165
							region = GON_169
							region = GON_175
							region = GON_183
							region = GON_186
						}
					}
					secede_province = THIS
				}
			}
			
			any_owned = {
				limit = { 
					is_core = GON
				}
				remove_core = GON
				add_core = ADR
			}
			
			clr_global_flag = GON_andrast_war_2
			set_global_flag = GON_lost_andrast_war
		}
	}
	
	gondorian_andrast_migration = {
		picture = "andrast_map"
		potential = {
			tag = GON
			any_owned_province = {
				OR = {
					region = GON_161
					region = GON_165
					region = GON_169
					region = GON_175
					region = GON_183
					region = GON_186
				}
				is_colonial = yes
				NOT = { has_province_modifier = gondorification }
			}
		}
		
		allow = {
		}
		
		effect = {
			any_owned = {
				limit = {
					OR = {
						region = GON_161
						region = GON_165
						region = GON_169
						region = GON_175
						region = GON_183
						region = GON_186
					}
					is_colonial = yes
				}
				add_province_modifier = {
					name = gondorification
					duration = -1
				}
			}
			any_owned = {
				limit = {
					OR = {
						region = GON_161
						region = GON_165
						region = GON_169
						region = GON_175
						region = GON_183
						region = GON_186
					}
					is_colonial = no
				}
			}
			any_owned = {
				limit = {
					is_colonial = no
					total_pops = 250000
					OR = {
						is_primary_culture = yes
						is_accepted_culture = yes
					}
				}
				add_province_modifier = {
					name = colonial_push
					duration = 730
				}
			}
			set_country_flag = andrast_gondorification
		}
	}
}

# Ecthelion II Flavor
political_decisions = {
	encourage_outside_military_recruitment = {
		picture = "travellers"
		potential = {
			nationalvalue = ecthelion_ii
			tag = GON
			NOT = { has_country_modifier = encouraging_outside_military_recruitment }
		}
		
		allow = {
			training_2 = 1
		}
		
		effect = {
			add_country_modifier = {
				name = encouraging_outside_military_recruitment
				duration = -1
			}
		}
	}
	
	gondorian_coastal_defences = {
		picture = "coastal_fortifications"
		potential = {
			nationalvalue = ecthelion_ii
			has_country_modifier = thorongil
			NOT = { has_global_flag = gondor_prepared_coastal_defences }
			# Need to fix reqs and effects
			# Should not show up if Umbar/Harad does not exist or own Umbar
		}
		
		allow = {
			money = 100000
		}
		
		effect = {
			treasury = -100000
			
			# Make it so it increases level by 1
			any_owned = {
				limit = {
					port = yes
				}
				naval_base = -6
				naval_base = 4
			}
			
			any_country = {
				limit = {
					vassal_of = GON
				}
				any_owned = {
					limit = {
						port = yes
					}
					naval_base = -6
					naval_base = 4
				}
			}
			
			set_global_flag = gondor_prepared_coastal_defences
		}
	}
}

# Reclaiming Cores Removed Via Flavor
political_decisions = {
	reclaim_druadan_forest = {
		picture = "free_druadan_forest"
		potential = {
			tag = GON
			NOT = { 11 = { is_core = GON } }
			has_global_flag = GON_lost_druadan_forest
			NOT = { has_country_modifier = low_military_recruitment }
			NOT = { truce_with = DRU }
		}
		
		allow = {
			is_greater_power = yes
			OR = {
				owns = 8
				owns = 9
				owns = 12
				owns = 13
			}
			war = no
		}
		
		effect = {
			11 = { add_core = GON }
			
			random_country = {
				limit = {
					has_country_flag = druadan_forest_freer
				}
				clr_country_flag = druadan_forest_freer
				casus_belli = {
					target = GON
					type = humiliate
					months = 12
				}
			}
			
			random_country = {
				limit = {
					tag = DRU
				}
				relation = {
					who = GON
					value = -200
				}
			}
			
			clr_global_flag = GON_lost_druadan_forest
		}
	}
}
