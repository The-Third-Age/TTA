# Small Mechanics Events {
#	5000 - 5999 }

# Wild Goblins {
# Events 5000 - 5003
# Wild Goblin Raid
province_event = {
	id = 5000
	title = "Wild Goblin Raid"
	desc = "EVTDESC5000"
	
	trigger = {
		NOT = { owner = { has_country_modifier = observer_mode } }
		OR = {
			has_province_modifier = wild_goblin_hold
			has_province_modifier = wild_goblin_outpost
		}
		any_neighbor_province = {
			owner = { tag = THIS }
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	option = {
		name = "Drat."
		
		# Goblins killed in the raid
		any_pop = {
			limit = {
				is_culture_group = wild_goblins
			}
			reduce_pop = 0.95
		}
		
		# Raid on an owned neighbor province
		random_neighbor_province = {
			limit = {
				owner = { tag = THIS }
			}
			any_pop = {
				limit = {
					NOT = { type = soldiers }
					NOT = { is_culture_group = wild_goblins }
				}
				militancy = 2
				reduce_pop = 0.98
			}
			
			any_pop = {
				limit = {
					type = soldiers
					NOT = { is_culture_group = wild_goblins }
				}
				militancy = 2
				reduce_pop = 0.9
			}
			
			remove_province_modifier = recent_raid # Reset the timer
			add_province_modifier = { name = recent_raid duration = 365 }
		}
	}
}

# Goblin Settlement Found and Eliminated
province_event = {
	id = 5001
	title = "Goblin Settlement Found"
	desc = "EVTDESC5001"
	
	is_triggered_only = yes
	
	option = {
		name = "Good"
		
		# Kill all of the goblins
		any_pop = {
			limit = {
				is_culture_group = wild_goblins
			}
			
			reduce_pop = 0
		}
		
		soldiers = {
			reduce_pop = 0.8
		}
		
		any_pop = {
			militancy = -1
		}
		
		remove_province_modifier = wild_goblin_hold
		remove_province_modifier = wild_goblin_outpost
		remove_province_modifier = recent_raid
		
		owner = {
			random_list = {
				5 = { treasury = 5000 }
				10 = { treasury = 10000 }
				4 = { treasury = 15000 }
				1 = { years_of_research = 0.10 }
			}
		}
		
		owner = { clr_country_flag = looking_for_goblin_settlement }
	}
}

# Abandoned Goblin Settlement Found
province_event = {
	id = 5002
	title = "Abandoned Settlement Found"
	desc = "EVTDESC5002"
	
	is_triggered_only = yes
	
	option = {
		name = "How are they one step ahead of us?"
		
		owner = {
			random_list = {
				5 = { treasury = 2500 }
				10 = { treasury = 5000 }
				4 = { treasury = 7500 }
				1 = { years_of_research = 0.05 }
			}
		}
		
		owner = { clr_country_flag = looking_for_goblin_settlement }
	}
}

# Goblin Settlement Found and Enslaved
province_event = {
	id = 5003
	title = "Goblin Settlement Found"
	desc = "EVTDESC5003"
	
	is_triggered_only = yes
	
	option = {
		name = "Good"
		
		# Kill those who resist
		any_pop = {
			limit = {
				is_culture_group = wild_goblins
			}
			
			reduce_pop = 0.9
		}
		
		# Enslave the remaining goblins
		any_pop = {
			limit = {
				is_culture_group = wild_goblins
			}
			pop_type = slaves
		}
		
		# Some of the militia died
		any_pop = {
			limit = {
				NOT = { is_culture_group = wild_goblins }
				type = soldiers
			}
			
			reduce_pop = 0.98
		}
		
		any_pop = {
			militancy = -1
		}
		
		remove_province_modifier = wild_goblin_hold
		remove_province_modifier = wild_goblin_outpost
		remove_province_modifier = recent_raid
		
		owner = {
			random_list = {
				5 = { treasury = 5000 }
				10 = { treasury = 10000 }
				4 = { treasury = 15000 }
				1 = { years_of_research = 0.10 }
			}
		}
		
		owner = { clr_country_flag = looking_for_goblin_settlement }
	}
}
# }

# Outlaws {
# Events 5004 - 5007
# Outlaws Attack Caravan
province_event = {
	id = 5004
	title = "Outlaws Attack Caravan!"
	desc = "EVTDESC5004"
	
	trigger = {
		NOT = { owner = { has_country_modifier = observer_mode } }
		has_province_modifier = outlaw_hold
		owner = { money = 1000 }
	}
	
	mean_time_to_happen = {
		months = 30
	}
	
	option = {
		name = "Drat."
		
		# Goods stolen from the caravan
		owner = { money = -1000 }
		
		# Long-term effects of the attack
		remove_province_modifier = recent_raid # Reset the timer
		add_province_modifier = { name = recent_raid duration = 365 }
	}
}

# Outlaws Spawn
province_event = {
	id = 5005
	title = "New Band of Outlaws"
	desc = "EVTDESC5005"
	
	trigger = {
		NOT = { has_province_modifier = outlaw_hold }
		OR = {
			NOT = { life_needs = 0.99 }
			any_pop = { militancy = 4 }
			any_pop = { unemployment = 0.5 }
		}
	}
	
	mean_time_to_happen = {
		months = 60
		
		modifier = {
			factor = 0.9
			any_neighbor_province = { has_province_modifier = outlaw_hold }
		}
	}
	
	option = {
		name = "Drat."
		
		add_core = OUT
		add_province_modifier = { name = outlaw_hold duration = -1 }
	}
}

# Outlaws Cleared
province_event = {
	id = 5006
	title = "Outlaws Handled by Local Authorities"
	desc = "EVTDESC5006"
	
	trigger = {
		has_province_modifier = outlaw_hold
		NOT = { has_province_modifier = military_hunting_outlaws }
		OR = {
			owner = { crime_fighting = 0.99 }
			units_in_province = 1
		}
	}
	
	mean_time_to_happen = {
		months = 90
		
		modifier = {
			factor = 0.9
			units_in_province = 1
		}
		
		modifier = {
			factor = 0.9
			units_in_province = 3
		}
		
		modifier = {
			factor = 0.9
			units_in_province = 5
		}
		
		modifier = {
			factor = 0.9
			units_in_province = 10
		}
	}
	
	option = {
		name = "Good"
		
		remove_core = OUT
		remove_province_modifier = outlaw_hold
		
		owner = {
			random_list = {
				4 = { treasury = 2500 }
				1 = { treasury = 5000 }
			}
		}
	}
}

# Outlaws Routed
province_event = {
	id = 5007
	title = "Outlaws Routed"
	desc = "EVTDESC5007"
	
	trigger = {
		has_province_modifier = outlaw_hold
		NOT = { has_province_modifier = military_hunting_outlaws }
		
		units_in_province = 1
		
		any_neighbor_province = {
			owned_by = THIS
			NOT = { has_province_modifier = outlaw_hold }
		}
	}
	
	mean_time_to_happen = {
		months = 75
		
		modifier = {
			factor = 0.9
			units_in_province = 3
		}
		
		modifier = {
			factor = 0.9
			units_in_province = 5
		}
		
		modifier = {
			factor = 0.9
			units_in_province = 10
		}
	}
	
	option = {
		name = "Good"
		
		remove_core = OUT
		remove_province_modifier = outlaw_hold
		
		owner = {
			random_list = {
				4 = { treasury = 1250 }
				1 = { treasury = 2500 }
			}
		}
		
		random_neighbor_province = {
			limit = {
				owned_by = THIS
				NOT = { has_province_modifier = outlaw_hold }
			}
			add_core = OUT
			add_province_modifier = { name = outlaw_hold duration = -1 }
		}
	}
}
# }