# War of the Ring Events: {
# 50300 - 50399 }

# ring_controller mapping:
#	0 = Bilbo
#	1 = Frodo
#	2 = Fellowship

# Council of Elrond {
# An Invitation from Elrond
country_event = {
	id = 50300
	picture = council_of_elrond
	title = "An Invitation from Elrond"
	desc = "EVTDESC50300"
	
	is_triggered_only = yes
	
	option = {
		name = "We accept! §R(We will be part of the Council of Elrond)§!"
		
		create_alliance = FROM
		country_event = {
			id = 50301
			days = 1
		}
		
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				NOT = {
					relation = {
						who = FROM
						value = 0
					}
				}
			}
		}
	}
	
	option = {
		name = "We refuse! §R(The Council will go on without us)§!"
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				relation = {
					who = FROM
					value = 0
				}
			}
		}
	}
}

# Voting on the formation of the Fellowship
country_event = {
	id = 50301
	picture = council_of_elrond
	title = "The Matter of the Fellowship"
	desc = "EVTDESC50301"
	
	is_triggered_only = yes
	
	option = {
		name = "They shall have our support! §R(We will have representative(s) within the Fellowship)§!"
		
		prestige = 10
		add_country_modifier = {
			name = fellowship_member
			duration = -1
		}
	}
	
	option = {
		name = "We will support the Fellowship, but cannot spare any people"
	}
	
	option = {
		name = "We cannot support such an endeavor. §R(This will have diplomatic repercussions)§!"
		
		prestige = -10
		country_event = {
			id = 50302
			days = 1
		}
	}
}

# Consequenes of rejecting the Fellowship
country_event = {
	id = 50302
	picture = council_of_elrond
	title = "The Realms of the Fellowship"
	desc = "EVTDESC50302"
	
	is_triggered_only = yes
	
	option = {
		name = "Drat"
		
		any_country = {
			limit = {
				OR = {
					has_country_flag = the_council_of_elrond_host
					has_country_modifier = fellowship_member
				}
			}
			leave_alliance = FROM
			relation = {
				who = FROM
				value = -200
			}
		}
	}
}

# The Fellowship of the Ring
country_event = {
	id = 50303
	picture = council_of_elrond
	title = "The Fellowship of the Ring"
	desc = "EVTDESC50303"
	
	is_triggered_only = yes
	
	option = {
		name = "§R9 companions... so be it.§!"
		
		prestige = 25
		
		clr_country_flag = the_council_of_elrond_host
		
		FOR = {
			add_country_modifier = {
				name = wotr_countdown
				duration = 1095
			}
			add_country_modifier = {
				name = wotr_end_countdown
				duration = 2920
			}
			set_variable = {
				which = ring_controller
				value = 2
			}
		}
		
		ai_chance = {
			factor = 90
		}
	}
	
	option = {
		name = "10 companions... so be it. §R(We will have a member join the Fellowship)§!"
		
		prestige = 50
		
		add_country_modifier = {
			name = fellowship_member
			duration = -1
		}
		
		FOR = {
			add_country_modifier = {
				name = wotr_countdown
				duration = 1095
			}
			add_country_modifier = {
				name = wotr_end_countdown
				duration = 2920
			}
			set_variable = {
				which = ring_controller
				value = 2
			}
		}
		
		clr_country_flag = the_council_of_elrond_host
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_global_flag = railroading_enabled
			}
		}
	}
}
# }

# War of the Ring {
# Good nation alliance
country_event = {
	id = 50304
	picture = war_of_the_ring
	title = "The Alliance of Free Realms"
	desc = "EVTDESC50304"
	
	is_triggered_only = yes
	
	option = {
		name = "Our friends support us"
		
		any_country = {
			limit = {
				has_country_flag = good_realm
			}
			create_alliance = THIS
		}
		any_country = {
			limit = {
				has_country_flag = evil_realm
			}
			leave_alliance = THIS
		}
	}
}

# Evil nation alliance
country_event = {
	id = 50305
	picture = war_of_the_ring
	title = "The Alliance of Evil Realm"
	desc = "EVTDESC50305"
	
	is_triggered_only = yes
	
	option = {
		name = "Our allies support us"
		
		any_country = {
			limit = {
				has_country_flag = evil_realm
			}
			create_alliance = THIS
		}
		any_country = {
			limit = {
				has_country_flag = good_realm
			}
			leave_alliance = THIS
		}
	}
}

# The War of the Ring - Good
country_event = {
	id = 50306
	picture = war_of_the_ring
	title = "The War of the Ring"
	desc = "EVTDESC50306"
	
	is_triggered_only = yes
	
	option = {
		name = "To arms!"
		
		random_country = {
			limit = {
				has_country_flag = evil_leader
			}
			country_event = 50307
		}
	}
}

# The War of the Ring - Evil (Actually starts the war)
country_event = {
	id = 50307
	picture = war_of_the_ring
	title = "The War of the Ring"
	desc = "EVTDESC50307"
	
	is_triggered_only = yes
	
	option = {
		name = "To arms!"
		
		# Good side cb
		add_casus_belli = {
			target = FROM
			type = humiliate
			months = 12
		}
		
		# Evil side cb
		casus_belli = {
			target = FROM
			type = humiliate
			months = 12
		}
		
		war = {
			target = FROM
			attacker_goal = { casus_belli = humiliate }
			defender_goal = { casus_belli = humiliate }
			call_ally = yes
		}
	}
}

# War of the Ring - Good make alliance with good realm not at war
country_event = {
	id = 50308
	picture = war_of_the_ring
	title = "The War of the Ring Expands"
	desc = "EVTDESC50308"
	
	is_triggered_only = yes
	
	option = {
		name = "Middle-Earth in enveloped in war"
		
		random_country = {
			limit = {
				has_country_flag = good_leader
			}
			create_alliance = THIS
			set_country_flag = good_needs_to_fight
		}
	}
}

# War of the Ring - Evil make alliance with evil realm not at war
country_event = {
	id = 50309
	picture = war_of_the_ring
	title = "The War of the Ring Expands"
	desc = "EVTDESC50309"
	
	is_triggered_only = yes
	
	option = {
		name = "Middle-Earth in enveloped in war"
		
		random_country = {
			limit = {
				has_country_flag = evil_leader
			}
			create_alliance = THIS
			set_country_flag = evil_needs_to_fight
		}
	}
}

# War of the Ring - Start war with rebels to get allies to join
country_event = {
	id = 50310
	picture = war_of_the_ring
	title = "The War of the Ring Expands"
	desc = "EVTDESC50310"
	
	is_triggered_only = yes
	
	option = {
		name = "Middle-Earth is enveloped in war"
		
		war = { # No target initiates a one-day war that automatically resolves in a WP, but call_ally causes the new ally
			attacker_goal = { casus_belli = humiliate }
			call_ally = yes
		}
		badboy = -3
	}
}

# }
	
	