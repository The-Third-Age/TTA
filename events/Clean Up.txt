# Remove this line to have the validator check for strings in localisation
# Audax Validator "!" Ignore_1004

# Remove this line to have the validator check this file
# Audax Validator "!" Ignore_NEXT

# Clean Up Events: {
# 100000 - 109999 }

# Annex Country Events {
# Annex Country - Cultural Union
country_event = {
	id = 100003
	title = "Our Cultural Union"
	desc = "EVTDESC100003"
	picture = administration
	
	is_triggered_only = yes
	
	option = {
		name = "We will join them!"
		
		annex_to = FROM
		
		all_core = {
			limit = { owned_by = FROM }
			add_province_modifier = { name = cultural_core_integration duration = -1 }
		}
		
		ai_chance = {
			factor = 90
			
			modifier = {
				factor = 0
				OR = {
					AND = {
						NOT = {
							relation = {
								who = FROM
								value = 0
							}
						}
						NOT = { vassal_of = FROM }
					}
					AND = {
						good_evil_alignment = good_alignment
						NOT = { FROM = { good_evil_alignment = good_alignment } }
					}
					AND = {
						good_evil_alignment = evil_alignment
						NOT = { good_evil_alignment = evil_alignment }
					}
					is_greater_power = yes
				}
			}
		}
	}
}

# Annex Country - Non-cultural Union
country_event = {
	id = 100004
	title = "Our Union With $FROMCOUNTRY$"
	desc = "EVTDESC100003"
	picture = administration
	
	is_triggered_only = yes
	
	option = {
		name = "We will join them!"
		
		annex_to = FROM
		
		ai_chance = {
			factor = 90
			
			modifier = {
				factor = 0
				OR = {
					AND = {
						NOT = {
							relation = {
								who = FROM
								value = 0
							}
						}
						NOT = { vassal_of = FROM }
					}
					AND = {
						good_evil_alignment = good_alignment
						NOT = { FROM = { good_evil_alignment = good_alignment } }
					}
					AND = {
						good_evil_alignment = evil_alignment
						NOT = { good_evil_alignment = evil_alignment }
					}
					is_greater_power = yes
				}
			}
		}
	}
	
	option = {
		name = "Never!"
		
		ai_chance = {
			factor = 10
			
			modifier = {
				factor = 0
				OR = {
					relation = {
						who = FROM
						value = 0
					}
					vassal_of = FROM
				}
			}
		}
	}
}
# }

# Diplomatic Invitation (for Union forming)
country_event = {
	id = 100005
	title = "An Invititation"
	desc = "EVTDESC100005"
	picture = administration
	
	is_triggered_only = yes
	
	option = {
		name = "Of course!"
		
		FROM = {
			diplomatic_influence = {
				who = THIS
				value = 400
			}
			relation = {
				who = THIS
				value = 400
			}
			create_alliance = THIS
		}
		
		ai_chance = {
			factor = 90
			
			modifier = {
				factor = 0
				OR = {
					AND = {
						NOT = {
							relation = {
								who = FROM
								value = 0
							}
						}
						NOT = { vassal_of = FROM }
					}
					AND = {
						good_evil_alignment = good_alignment
						NOT = { FROM = { good_evil_alignment = good_alignment } }
					}
					AND = {
						good_evil_alignment = evil_alignment
						NOT = { good_evil_alignment = evil_alignment }
					}
					is_greater_power = yes
				}
			}
		}
	}
	
	option = {
		name = "Never!"
		
		add_casus_belli = {
			target = FROM
			type = make_puppet
			months = 24
		}
		
		ai_chance = {
			factor = 10
			
			modifier = {
				factor = 0
				OR = {
					relation = {
						who = FROM
						value = 0
					}
					vassal_of = FROM
				}
			}
		}
	}
}
# }

# Cede land to puppet
country_event = {
	id = 100006
	title = "Our Lands"
	desc = "EVTDESC100006"
	picture = administration
	
	is_triggered_only = yes
	
	option = {
		name = "Good"
		
		FROM = {
			any_owned = {
				limit = {
					is_core = THIS
					NOT = { is_core = FROM }
				}
				secede_province = THIS
			}
		}
	}
}

# GON get leaders back on track
country_event = {
	id = 100008
	title = "Emergence of a New Leader"
	desc = "EVTDESC100008"
	picture = administration
	
	trigger = {
		tag = GON
		nationalvalue = generic_leader
		OR = {
			has_global_flag = ecthelion_ii_alive
			has_global_flag = denethor_ii_alive
		}
	}
	
	option = {
		name = "Good"
		set_country_flag = knows_next_leader
		
		# Kills the generic leader
		country_event = 3501
		
		any_country = {
			limit = {
				exists = yes
				substate_of = THIS
			}
			set_country_flag = knows_next_leader
			country_event = 3501
		}
		
		random_owned = {
			limit = {
				owner = {
					has_global_flag = denethor_ii_alive }
			}
			owner = {
				ruling_party = GON_denethor_ii
		
				any_country = {
					limit = {
						exists = yes
						substate_of = THIS
					}
					ruling_party = GON_denethor_ii
				}
			}
		}
		
		random_owned = {
			limit = {
				owner = { has_global_flag = ecthelion_ii_alive }
			}
			owner = {
				ruling_party = GON_ecthelion_ii
		
				any_country = {
					limit = {
						exists = yes
						substate_of = THIS
					}
					ruling_party = GON_ecthelion_ii
				}
			}
		}
	}
}

# Bonuses from Thorongil go away after he has left
country_event = {
	id = 100009
	title = "The Thorongil Departs"
	desc = "EVTDESC100009"
	picture = "gondor/thorongil"
	
	fire_only_once = yes
	
	trigger = {
		tag = GON
		has_country_modifier = GON_increased_naval_concern
		NOT = { has_country_modifier = thorongil }
	}
	
	option = {
		name = "Drat"
		
		remove_country_modifier = GON_increased_naval_concern
	}
}
